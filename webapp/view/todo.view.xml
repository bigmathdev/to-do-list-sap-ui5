<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    controllerName="todolist.controller.todo"
>
    <VBox
        id="mainVBox"
        class="sapUiSmallMargin"
    >
        <HBox
            id="kpiBox"
            class="sapUiSmallMarginBottom"
        >
            <Panel
                id="latePanel"
                headerText="Tarefas atrasadas"
                class="sapUiTinyMarginEnd"
                width="200px"
                xmlns="sap.m"
            >
                <VBox id="latePanelVBox">
                    <core:Icon
                        id="latePanelIcon"
                        src="sap-icon://error"
                        color="red"
                        size="2rem"
                    />
                    <Text
                        id="latePanelText"
                        text="{kpiModel>/late}"
                        class="sapUiLargeFont"
                    />
                    <Text
                        id="latePanelDescText"
                        text="Contagem baseada no prazo e status."
                        class="sapUiSmallMarginTop"
                    />
                </VBox>
            </Panel>
            <Panel
                id="todayPanel"
                headerText="Para hoje"
                class="sapUiTinyMarginEnd"
                width="200px"
                xmlns="sap.m"
            >
                <VBox id="todayPanelVBox">
                    <core:Icon
                        id="todayPanelIcon"
                        src="sap-icon://appointment-2"
                        color="blue"
                        size="2rem"
                    />
                    <Text
                        id="todayPanelText"
                        text="{kpiModel>/today}"
                        class="sapUiLargeFont"
                    />
                    <Text
                        id="todayPanelDescText"
                        text="Tarefas com prazo hoje (abertas)."
                        class="sapUiSmallMarginTop"
                    />
                </VBox>
            </Panel>
            <Panel
                id="tomorrowPanel"
                headerText="Amanhã (D+1)"
                width="200px"
                xmlns="sap.m"
            >
                <VBox id="tomorrowPanelVBox">
                    <core:Icon
                        id="tomorrowPanelIcon"
                        src="sap-icon://calendar"
                        color="gray"
                        size="2rem"
                    />
                    <Text
                        id="tomorrowPanelText"
                        text="{kpiModel>/tomorrow}"
                        class="sapUiLargeFont"
                    />
                    <Text
                        id="tomorrowPanelDescText"
                        text="Tarefas com prazo amanhã (abertas)."
                        class="sapUiSmallMarginTop"
                    />
                </VBox>
            </Panel>
        </HBox>
        <HBox id="inputHBox">
            <Input
                id="newTaskInput"
                placeholder="O que precisa ser feito?"
                width="100%"
                submit=".onInputSubmit"
                maxLength="200"
            />

            <Select id="prioritySelect">
                <items>
                    <core:Item
                        id="priorityLow"
                        key="low"
                        text="Baixa"
                    />
                    <core:Item
                        id="priorityMedium"
                        key="medium"
                        text="Média"
                    />
                    <core:Item
                        id="priorityHigh"
                        key="high"
                        text="Alta"
                    />
                    <core:Item
                        id="priorityCritical"
                        key="critical"
                        text="Crítica"
                    />
                </items>
            </Select>

            <DatePicker
                id="taskDatePicker"
                placeholder="dd/mm/aaaa"
                displayFormat="dd/MM/yyyy"
                valueFormat="yyyy-MM-dd"
                width="150px"
                minDate="{dateModel>/ui5date}"
            />

            <Button
                id="addTaskButton"
                text="Adicionar"
                press=".onAddTask"
                type="Emphasized"
                icon="sap-icon://add"
            />
        </HBox>

        <List
            id="taskList"
            items="{
        path: '/tasks'
      }"
        >
            <CustomListItem id="taskListItem">
                <HBox id="taskItemHBox">
                    <CheckBox
                        id="taskCheckBox"
                        selected="{done}"
                        select=".onToggleTask"
                    />
                    <Text
                        id="taskTitleText"
                        text="{title}"
                        class="{
        parts: [
          {path: 'done'},
          {path: 'isLate'}
        ],
        formatter: '.formatTaskClass'
    }"
                    />
                    <GenericTag
                        id="taskTag"
                        text="{tag}"
                        class="sapUiTinyMarginBegin"
                    />
                    <HBox
                        id="taskDateHBox"
                        class="sapUiTinyMarginBegin"
                    >
                        <core:Icon
                            id="taskDateIcon"
                            src="sap-icon://calendar"
                            size="1rem"
                            class="sapUiTinyMarginEnd"
                        />
                        <Text
                            id="taskDateText"
                            text="{date}"
                        />

                        <Button
                            id="clearTasksButton"
                            press=".onClearTasks"
                            type="Reject"
                            icon="sap-icon://delete"
                        />
                    </HBox>
                </HBox>
            </CustomListItem>
        </List>
    </VBox>
</mvc:View>
