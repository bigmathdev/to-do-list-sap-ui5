<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    controllerName="todolist.controller.todo"
>
    <VBox
        id="mainVBox"
        class="sapUiSmallMargin"
    >
        <HBox
            justifyContent="SpaceAround"
            id="kpiBox"
            class="sapUiSmallMarginBottom"
        >
            <GenericTile id="lateTile" header="Chamados atrasados">
                <TileContent id="lateTileContent">
                    <NumericContent id="lateNumericContent" valueColor="Error" value="{kpiModel>/late}" icon="sap-icon://error"/>
                </TileContent>
            </GenericTile>
            <GenericTile id="todayTile" header="Chamados para hoje">
                <TileContent id="todayTileContent">
                    <NumericContent id="todayNumericContent" valueColor="Good" value="{kpiModel>/today}"  icon="sap-icon://appointment-2"/>
                </TileContent>
            </GenericTile>
            <GenericTile id="tomorrowTile" header="Chamados para amanhã">
                <TileContent id="tomorrowTileContent">
                    <NumericContent id="tomorrowNumericContent" valueColor="Neutral" value="{kpiModel>/tomorrow}"  icon="sap-icon://calendar"/>
                </TileContent>
            </GenericTile>
            
        </HBox>
        <HBox id="inputHBox" justifyContent="SpaceAround">
            <Input
                id="newTaskInput"
                placeholder="O que precisa ser feito?"
                width="100%"
                submit=".onInputSubmit"
                maxLength="200"
            />

            <Select id="prioritySelect">
                <items>
                    <core:Item
                        id="priorityLow"
                        key="low"
                        text="Baixa"
                    />
                    <core:Item
                        id="priorityMedium"
                        key="medium"
                        text="Média"
                    />
                    <core:Item
                        id="priorityHigh"
                        key="high"
                        text="Alta"
                    />
                    <core:Item
                        id="priorityCritical"
                        key="critical"
                        text="Crítica"
                    />
                </items>
            </Select>

            <DatePicker
                id="taskDatePicker"
                placeholder="dd/mm/aaaa"
                displayFormat="dd/MM/yyyy"
                valueFormat="yyyy-MM-dd"
                width="150px"
                minDate="{dateModel>/ui5date}"
            />

            <Button
                id="addTaskButton"
                text="Adicionar"
                press=".onAddTask"
                type="Emphasized"
                icon="sap-icon://add"
            />
        </HBox>

        <List
            id="taskList"
            items="{
        path: '/tasks'
      }"
        >
            <CustomListItem id="taskListItem">
                <HBox id="taskItemHBox" justifyContent="SpaceAround">
                    <CheckBox
                        id="taskCheckBox"
                        selected="{done}"
                        select=".onToggleTask"
                    />
                    <Text
                        id="taskTitleText"
                        text="{title}"
                        class="{:= ${done} ? 'taskDone' : '' }"
                    />
                    <!-- <GenericTag
                        id="taskTag"
                        text="{tag}"
                        class="sapUiTinyMarginBegin"
                    /> -->
                    <ObjectStatus id="taskTag" text="{tag}" state="{:= ${tag} === 'Baixa' ? 'Success' :
         ${tag} === 'Média' ? 'Warning' :
         ${tag} === 'Alta' ? 'Error' :
         ${tag} === 'Crítica' ? 'Error' :
         'None'}" icon="{:= ${tag} === 'Baixa' ? 'sap-icon://message-success' :
        ${tag} === 'Média' ? 'sap-icon://message-warning' :
        ${tag} === 'Alta' ? 'sap-icon://alert' :
        ${tag} === 'Crítica' ? 'sap-icon://error' :
        ''}"/>
                    <HBox
                        id="taskDateHBox"
                        class="sapUiTinyMarginBegin"
                    >
                        <core:Icon
                            id="taskDateIcon"
                            src="sap-icon://calendar"
                            size="1rem"
                            class="sapUiTinyMarginEnd"
                        />
                        <Text
                            id="taskDateText"
                            text="{date}"
                        />

                    </HBox>
                        <Button
                            id="clearTasksButton"
                            press=".onClearTasks"
                            type="Reject"
                            icon="sap-icon://delete"
                        />
                </HBox>
            </CustomListItem>
        </List>
    </VBox>
</mvc:View>
